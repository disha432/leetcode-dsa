class Solution {
public:
    int MOD = 1e9+7;

    int specialTriplets(vector<int>& nums) {
        
         unordered_map<int,int> validi;
         unordered_map<int,int> validj;
         int result = 0;
         for(auto& n : nums){
            // to check if its a valid k
            if(n%2 == 0) result = (result + validj[n/2])%MOD;

            //check if its a valid j
            validj[n] = (validj[n] + validi[n*2])%MOD;

            validi[n]++;
         }

         return result;

        // int result = 0; 
        // unordered_map<int,int> left;
        // unordered_map<int,int> right;

        // for(auto& num : nums){
        //     right[num]++;
        // }

        // for(auto& num : nums){
        //     right[num]--;

        //     int l = left[num*2];
        //     int r = right[num*2];

        //     result = (result + (1ll * l*r))%MOD;

        //     left[num]++;


        // }

        // return result;

    }
};
